(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{288:function(t,e,i){"use strict";i.r(e);var a=i(28),l=Object(a.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"邀请奖励-任务清单奖励"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#邀请奖励-任务清单奖励"}},[t._v("#")]),t._v(" 邀请奖励-任务清单奖励")]),t._v(" "),i("p",[i("strong",[t._v("需求类型：")])]),t._v(" "),i("ul",[i("li",[t._v("新增")])]),t._v(" "),i("p",[i("strong",[t._v("新增系统参数：")])]),t._v(" "),i("ul",[i("li",[i("p",[t._v("参数名：invitePrizeTaskList")])]),t._v(" "),i("li",[i("p",[t._v("数据示例：")]),t._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v('{\n  "1":{\n      "account":"02",\n      "prizeNum":"150",\n      "remark":"邀请 %s 首次完成每日任务"\n  },\n  "2":{\n      "account":"02",\n      "prizeNum":"100",\n      "remark":"邀请 %s 第 2 次完成每日任务"\n  },\n  "3":{\n      "account":"02",\n      "prizeNum":"50",\n      "remark":"邀请 %s 第 3 次完成每日任务"\n  }\n}\n')])])])]),t._v(" "),i("li",[i("p",[t._v("参数说明")]),t._v(" "),i("table",[i("thead",[i("tr",[i("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("account")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("奖励账户："),i("br"),t._v("01表示奖励金额到free_money；"),i("br"),t._v("02表示奖励金币到coins_num")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("prizeNum")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("奖励数值")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("remark")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("增加明细记录时的备注")])])])])])]),t._v(" "),i("p",[i("strong",[t._v("流程：")])]),t._v(" "),i("div",{staticClass:"mxgraph",staticStyle:{"max-width":"100%",border:"1px solid transparent"},attrs:{"data-mxgraph":'{"highlight":"#0000ff","nav":true,"resize":true,"toolbar":"zoom layers lightbox","edit":"_blank","xml":"<mxfile host=\\"Electron\\" modified=\\"2020-05-11T09:34:11.076Z\\" agent=\\"5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.0.3 Chrome/80.0.3987.163 Electron/8.2.1 Safari/537.36\\" etag=\\"KK20HqldQXdRrx-1piWD\\" version=\\"13.0.3\\" type=\\"device\\"><diagram id=\\"aOXhK-qvbmOzBDnyGZcI\\" name=\\"Page-1\\">7Vpdc+I2FP0tfdBjMpY/pUcbTPdhm+lsOtPNU0dgBXvHRh5jFthfX8mSsWUbcDYBknaZDJGOJSHpnnvvkQBYk2z3e0Hy+A8W0RSYRrQD1hSYJkaQvwtgLwHH9SSwLJJIQkYDPCY/qARhjW6SiK4VJqGSsbRMch1csNWKLkoNI0XBtnqzZ5ZGGpCTJe0BjwuS9tG/k6iMJYpMr8E/0WQZ158MXSyfZKRurFayjknEti3ICoE1KRgrZSnbTWgq9k7fl9mRp4eJFXRVjunwZf8wm/5jW/kn++nB/esLY9a3O0vNrdzXC6YRX7+qsqKM2ZKtSBo2aFCwzSqiYlSD15o2nxnLOQg5+I2W5V4Zk2xKxqG4zFL1lE+42H9V/avKk6jcO3V1ums/nO5VTc5VTPDoFihozTbFgp5Yd00lUixpeaKdfTAUJzhlGeXz4f0KmpIy+a7PgyiqLQ/tDl3/ZAmfoWkor+A0kV32Ndk7Q8h5qV6NTXmhNY0Gqiz9AqurT/tO0o1aAgg9gG3gIxC6ACEQeCDEwDcBckHoADQD2AWmm/K9CuYFLy1FCYQ2CALxJ9r4wIeie4AAcipkCnBV8B3RXbYJYJ9yacrdWVBrGyclfcxJZbstDyg6cdS0aVHS3WkK9E2mOlhY23lXDbBtfBvWDhu3/BoZx22sWeelpkB9U5guycTCV/O1+Pdbxf4O+D91W3uk28IjJHil31qefVO/NQd85/3ane6S8mvTktee6hF5uekkKrfkCn4lV17l/6L/mQAw2v8/kzkXX5rtSJosV7y84NtHCw6I4JlweeOrB1kSRZImdJ38IPNqPGGJXJC4Wq0TAGd6Kvoq7aU6N4qnbbUTfD4aq++Me2xaluZyqvazjlw3Yc/Pa3oRH7UHcisGiGdSA4QI+LMqt/K8yVOhz8Vtz5JFzLL5Zn2VbGhCPaB5JvfVXkI0nH5CdLwLOQS0Bhzi4wS9t9SoY0UqvIxKdWxdK2Fck+NaMnVIpzrCf4Kq4IcATZRgxcY4MeqK98DoUUonzBV0aEdKuHjI84akqHspKQrdX1r0Be5Zp6Lz7uncUmBA9JHsc2PNCK8mGodDrmvAOgzURwyvk2gvfcQwBmIuD5ozcYgXERaJSCriKeJhVLb6T2hR6SentKiNHf3a5pVatB4Z2vdQz7R3TmeUy8lVOKRXD/au9KpvjkqtA7dDfd3buwuSl0vIPJGZr6iHu5LHG7geuq4adgYlUHcTjx4wbq5zMNTj2XvQOXiQ8lxTSl7jCUB4FHl7gW/sRSZZ5/LLiudkJ4zxJjttHckcrY1G17zaNJ1fyuMCavK211XnzwijjwgfTiKYR4R8IxE8txPu6q9a3u99ldm/b5FFKfb8afXVkA+QnRfc5x422U0ztOd0FfLNc7Q5JKG4NrJAMG1pqbOS+Z0GxjcMcqOPV5KUb3+8cqx73HohjUjifstovVx9eLm63sGr9yFdxXNm2J8+z/Fq8+MB2bz5BYYV/gs=</diagram></mxfile>"}'}}),t._v(" "),i("script",{attrs:{type:"text/javascript",src:"https://app.diagrams.net/js/viewer.min.js"}}),t._v(" "),i("p",[i("strong",[t._v("请求URL：")])]),t._v(" "),i("ul",[i("li",[i("code",[t._v("/my/act-bottom-btn/action")])])]),t._v(" "),i("p",[i("strong",[t._v("请求参数：")])]),t._v(" "),i("table",[i("thead",[i("tr",[i("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("code")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("任务清单标识")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("userListId")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("用户参与任务清单记录的标识")])])])]),t._v(" "),i("p",[i("strong",[t._v("流程说明：")])]),t._v(" "),i("table",[i("thead",[i("tr",[i("th",{staticStyle:{"text-align":"left"}},[t._v("流程")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[t._v("操作说明")])])]),t._v(" "),i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("被邀请人")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("当前完成了任务清单的用户")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("邀请人uid")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("根据uid 查询 sys_user 表中的 invitation_uid")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("已完成任务清单数")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("根据uid 统计 activity_user_list 表中 status = '1',list_type = '00' 的记录数")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("查询任务清单邀请奖励参数")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("根据"),i("code",[t._v("已完成任务清单数")]),t._v("作为key，查询系统参数"),i("code",[t._v("invitePrizeTaskList")]),t._v("，获取对应的value")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("奖励邀请人")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[i("strong",[t._v("1. 新增invite_prize记录：")]),i("br"),t._v("    prize_method为 上一步查到的value中的"),i("code",[t._v("remark")]),t._v("(用"),i("code",[t._v("被邀请人")]),t._v("手机号代替remark中的"),i("code",[t._v("%s")]),t._v(")，"),i("br"),t._v("    prize_money为 上一步查到的value中的"),i("code",[t._v("prizeNum/100")]),t._v(","),i("br"),t._v("    uid为邀请人uid，"),i("br"),t._v("    prize_time 为当前时间，"),i("br"),t._v("    invalid_flag 为 0，"),i("br"),t._v("    task_id 为客户端传的userListId，"),i("br"),t._v("    invite_id 为 被邀请人uid，"),i("br"),t._v("    prize_type为 4019"),i("br"),i("br"),i("strong",[t._v("2. 给邀请人新增金币到账记录:")]),i("br"),t._v("    direction 为 大写C，"),i("br"),t._v("    tradetype 为 2020，"),i("br"),t._v("    coinAmt 为 上一步查到的value中的"),i("code",[t._v("prizeNum")]),t._v("，"),i("br"),t._v("    balance为奖励后的新金币余额，"),i("br"),t._v("    remark为上一步查到的value中的"),i("code",[t._v("remark")]),t._v("(用"),i("code",[t._v("被邀请人")]),t._v("手机号代替remark中的"),i("code",[t._v("%s")]),t._v(")，"),i("br"),t._v("    reference_id为 第一点新增的invite_prize记录id"),i("br"),i("br"),i("strong",[t._v("3. 更新邀请人的金额余额（sys_user.coins_num）为奖励后的余额")])])])])])])}),[],!1,null,null,null);e.default=l.exports}}]);