(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{302:function(t,e,a){"use strict";a.r(e);var l=a(28),i=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"支付任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#支付任务"}},[t._v("#")]),t._v(" 支付任务")]),t._v(" "),a("p",[a("strong",[t._v("需求类型：")])]),t._v(" "),a("ul",[a("li",[t._v("优化")])]),t._v(" "),a("p",[a("strong",[t._v("流程：")])]),t._v(" "),a("div",{staticClass:"mxgraph",staticStyle:{"max-width":"100%",border:"1px solid transparent"},attrs:{"data-mxgraph":'{"highlight":"#0000ff","nav":true,"resize":true,"toolbar":"zoom layers lightbox","edit":"_blank","xml":"<mxfile host=\\"Electron\\" modified=\\"2020-05-11T02:50:59.701Z\\" agent=\\"5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.0.3 Chrome/80.0.3987.163 Electron/8.2.1 Safari/537.36\\" etag=\\"93I3DZIOkJ_4gKDpSEPj\\" version=\\"13.0.3\\" type=\\"device\\"><diagram id=\\"IwGCf31WlFdOHlViyzUS\\" name=\\"Page-1\\">5Vlbb9owFP4te/Bjq9zjPCYQdlEnbeqktXszxCWZAkbGDNiv33FiE0yApu0g0iYhYX++YJ9zvuPPBrmD2eY9J4v8M8toiRwr2yB3iBzHtnAAXxLZ1gi2FDDlRVZDVgPcF7+pHqnQVZHRpcJqSDBWimJhghM2n9OJMDDCOVub3Z5YmRnAgkxpC7ifkLKNfi8ykatdOGGDf6DFNNe/bAdR3TIjurPayTInGVvvQW6K3AFnTNSl2WZAS2k80y6jE627hXE6F10GZPRm+/D5bhnP8/zHN/4x//rp5kbNshRbvWGawf5VlXGRsymbkzJt0ISz1TyjclYLak2fO8YWANoA/qRCbJUzyUowgHIxK1UrLJhvH9T4qvIoK7e+rg43+43DrarVa5ULPGkCvR+24hN6Zt+OCiXCp1Sc6efvHAURTtmMwnpgHKclEcUvcx1Ehdp012839AsrYIWOpWjh2LgeokgReOYM9bLUoMalUNhbRQNVjn6B09Xmf5FypXaA0gBFHopHKPVQkqAIqwJ8Uh/hGMVHIqUsgYUyItZ5Iej9glQmX0MiMP2tfo5yQTfnPde2tLZYYBjMUQZbN5S0Nc/yPTpi67RrDKu+1IRuL7zZFOKhYQrUHvdaGtLIiuZMw7WGXo8Guy7ONb8j18LLcC3yjNCx9Yl0JbJ5bbI5AZlJiszHS/n1DmDvEDwaX3dkDMerEROkLKZzKE/ALZQDIGlWwPkVq4ZZkWV1+NFl8ZuMq/mkhxdyx5UN/AT5w3M8VYerGtwcafvRcJomJ0l9Y93iUKfC17p559ZbD5uD2NPTkl7Ep/6RBNpKl2koC0kgcyvkIdxOoDxns/FqeZ0EqoecyaBecMUMGjzLi860+PflStcUap8IgjfmUDcIz+qVev2tFNqax/OcPnVP2Ao5zwK1bnUiLzQlA4SdqoDlJx1VyAClWCqnJJQF6AkHDgxP3GrCEMWpmjCCeQI5PLIrgRWg2JWTS+01QrHfzg9G5F4hR7iHR2VHmRVcKkngfvn+Msn0Gnn2F3OEra/HzyaJE6dy5yTxJpdGz+d9XS9FVasYgiPJFsmZAUpSlEYIh5JIUIgdFA3/Db2En9VLXvSX9NKBCr6cWNIvOV08PhX1uX+kQxUMYw6lutNrY+LCyaMXQjt9Elov81AND1EUnXbFNbWv55nnWu/a126f9f+HjrW7vrvZXq8hffyF7CDf9C3XggNV7vat1my3ZbY9gW3mA4mAWh5KzQwyO2k/qF3bnJ5vmtPWN/b+7Hnk7UjePup7RJc7C/QZyQtI/bybRMrsSQyz9m9xHJh5+YIBDNXmn5Za2TT/V7npHw==</diagram></mxfile>"}'}}),t._v(" "),a("script",{attrs:{type:"text/javascript",src:"https://app.diagrams.net/js/viewer.min.js"}}),t._v(" "),a("p",[a("strong",[t._v("请求URL：")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("/my/seller-app-task/charrenOperation")])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v('操作标识，支付传"zf"')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("taskid")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("任务标识")])])])]),t._v(" "),a("p",[a("strong",[t._v("流程说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("流程")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("任务状态")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("根据appid 查询 app_task_info 表中的 status")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("409 任务状态异常，请联系管理员检查")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("状态码返回409，提示：“任务状态异常，请联系管理员检查”")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("余额")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("根据 uid 查询 sys_user 表中的free_money")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("扣款金额")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1. 根据taskid 作为id 查询app_task_info 表中的seller_pay_price，release_num "),a("br"),t._v(" 2. release_num * (seller_pay_price/100) → 扣款金额(单位：元）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("409 余额不足")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("状态码返回409，提示：“余额不足”")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("扣款")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("strong",[t._v("1. 新增用户资金明细记录：")]),a("br"),t._v("    money_type 为 2，"),a("br"),t._v("    money 为 "),a("code",[t._v("扣款金额")]),t._v("，"),a("br"),t._v("    comment修改为：“任务【"),a("code",[t._v("app_task_info.title")]),t._v("】支付”，"),a("br"),t._v("    reference_id 为 前端传的taskid，"),a("br"),t._v("    free_money 为 扣款后的新余额，"),a("br"),t._v("    trade_type 为 3054"),a("br"),a("br"),t._v("** 2. 更新用户扣款后的余额**")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("修改任务状态为 3")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("根据appid 修改 app_task_info 表中的status 为 3")])])])])])}),[],!1,null,null,null);e.default=i.exports}}]);