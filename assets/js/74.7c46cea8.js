(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{298:function(t,e,a){"use strict";a.r(e);var l=a(28),i=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"领取任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#领取任务"}},[t._v("#")]),t._v(" 领取任务")]),t._v(" "),a("p",[a("strong",[t._v("需求类型：")])]),t._v(" "),a("ul",[a("li",[t._v("梳理")])]),t._v(" "),a("p",[a("strong",[t._v("流程：")])]),t._v(" "),a("div",{staticClass:"mxgraph",staticStyle:{"max-width":"100%",border:"1px solid transparent"},attrs:{"data-mxgraph":'{"highlight":"#0000ff","nav":true,"resize":true,"toolbar":"zoom layers lightbox","edit":"_blank","xml":"<mxfile host=\\"Electron\\" modified=\\"2020-05-07T11:02:38.924Z\\" agent=\\"5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.0.1 Chrome/80.0.3987.163 Electron/8.2.1 Safari/537.36\\" etag=\\"tbZlGXc_ZXGaGdFjduRo\\" version=\\"13.0.1\\" type=\\"device\\"><diagram id=\\"E0ErbyBu4-P2xxhsyaaP\\" name=\\"Page-1\\">5VlNc5swEP01OrYj8SmOYOMm/br40KQ3xShAByxXlmPcX18JhDGFxGQmNmQ64xlrHxKIt6u3KwHMWV584mSTfGMRzYABowKYc2AYyDIMoH4wOlQIroGYp1EFwQZYpn+oHlmjuzSiW41VkGAsE+mmDa7Yek1XooURztm+3e2RZVEL2JCYdoDlimRd9EcaiaR+C7fBb2gaJ/WTkeNVV3JSd9Zvsk1IxPYnkBkCc8YZE1UrL2Y0U+S1eVk8c/U4MU7XYsiAz3e/v9+LG8gel7eG+eVncGuSD46emzjUL0wj+f7aZFwkLGZrkoUNGnC2W0dU3RVKq+nzlbGNBJEEf1EhDtqZZCeYhBKRZ/pq9Uz1oGdfRUNbtuMr+sL8dTAJwmMqXuhnHgmXkUpZTgU/yHGcZkSkT+15EB0y8bFfw6psaGJfQbKe5BPJdvpJIPSAbwDsgNAGeAE82bBAEKifQnzgo65nskxGvfLAPkkFXW5ISc1eLrw+fp8oF7R4meEuI3qApQNDr1rHqsx9swRQHdfJSfhjeCEK7R4KFyCYAYxKE/bQdflAlmTyw50a/9GuzXt9u9KYFy3roK03XADmwAVgjbkAcNd7hkNyFbbrh636OzrxH3hUp7Zc2nh4Ok51x3Sq2bMkOxoWuqoRSHlzgBQH3F2mPGH5w257FVUzLPOsrNXKdxVZszocWlDWD1DR5c2A75e8+SpXKEoxCGAfyZUSzkCIgS/brkovim2vHB4A3ys726UjbOCHAJsDEk57KV3BPXY768gcMyztOJfyj3deuGo7E5WMwUlpGHqdhtEiFSf5TFr39U1kuxmkjAvonvsekhlCw4MiVkExrYgYL6sN9S6CY7rX7UlrZY0ulbWnapc6bZeqLBXXVeCY+c1yzpftV81vyPxPY70+vjgf7MaoWgZ7ot1Rga1C2lbR7oU62nFV32GAw7LQCHWfYK6WwNi1g4O9Vui7A3esFysdUM+W9VztILtPLFmMtq+tS7/zC2jcYmDA1nZ6xcAofhp1s1pP812mdYynlta9KakSuqIqWe8j2rvnCmXuXqisrWJbtr1hpzVQJ/3Ar5LTyGkee+00b0B77Dzft2FwFa2eWXIty6OufAw+yyfbTfVZ6zEtFM9vQSJCsM1ij6Dgtzndl2bzhau8dvKd0Az/Ag==</diagram></mxfile>"}'}}),t._v(" "),a("script",{attrs:{type:"text/javascript",src:"https://app.diagrams.net/js/viewer.min.js"}}),t._v(" "),a("p",[a("strong",[t._v("请求URL：")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("/m/confirm/download?userid=29474&appid=851&vcode=468D6B7090D89493F190AC8188DDAC4A")])])]),t._v(" "),a("p",[a("strong",[t._v("请求参数：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("参数名")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("userid")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("用户标识")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("appid")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("任务标识")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("vcode")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),a("p",[a("strong",[t._v("流程说明：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("流程")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("操作说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("任务状态")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("根据appid 查询 app_task_info 表中的 status")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("可领取数量")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1. 根据appid 查询 app_task_plan 表中的 start_time <= now() 的 release_num 总和  → 已投放份数"),a("br"),t._v(" 2. 根据appid 查询user_attend_app_line表中status = '01' 的任务记录数  → 进行中份数 "),a("br"),t._v(" 3. 已投放份数 - 进行中份数  → 可领取数量")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("新增参与记录")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("1. 在user_attend_app_line表中新增记录，status = '01' "),a("br"),t._v(" 2. 在user_attend_task_line 表中新增记录，status = '01'")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("409 未抢到任务，请选择其它任务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("返回状态码409，错误信息：“未抢到任务，请选择其它任务”")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("修改任务状态 为 0")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("根据appid 修改 app_task_info 表中的status 为 0")])])])])])}),[],!1,null,null,null);e.default=i.exports}}]);